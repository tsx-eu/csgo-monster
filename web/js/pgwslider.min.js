!function($){$.fn.pgwSlider=function(options){var defaults={mainClassName:"pgwSlider",listPosition:"right",selectionMode:"click",transitionEffect:"fading",autoSlide:!0,displayList:!0,displayControls:!1,touchControls:!0,verticalCentering:!1,adaptiveHeight:!1,maxHeight:null,beforeSlide:null,afterSlide:null,adaptiveDuration:200,transitionDuration:500,intervalDuration:3e3};if(0==this.length)return this;if(this.length>1)return this.each((function(){$(this).pgwSlider(options)})),this;var pgwSlider=this;pgwSlider.plugin=this,pgwSlider.data=[],pgwSlider.config={},pgwSlider.currentSlide=0,pgwSlider.slideCount=0,pgwSlider.resizeEvent=null,pgwSlider.intervalEvent=null,pgwSlider.touchFirstPosition=null,pgwSlider.transitionInProgress=!1,pgwSlider.window=$(window);var init=function(){return pgwSlider.config=$.extend({},defaults,options),setup(),pgwSlider.config.autoSlide&&activateInterval(),!0},getElement=function(obj){var element={},elementLink=obj.find("a").attr("href");if(void 0!==elementLink&&""!=elementLink){element.link=elementLink;var elementLinkTarget=obj.find("a").attr("target");void 0!==elementLinkTarget&&""!=elementLinkTarget&&(element.linkTarget=elementLinkTarget)}var elementThumbnail=obj.find("img").attr("src");void 0!==elementThumbnail&&""!=elementThumbnail&&(element.thumbnail=elementThumbnail);var elementImage=obj.find("img").attr("data-large-src");void 0!==elementImage&&""!=elementImage&&(element.image=elementImage);var elementSpan=obj.find("span").text();if(void 0!==elementSpan&&""!=elementSpan&&null!=elementSpan)element.title=elementSpan;else{var elementTitle=obj.find("img").attr("alt");void 0!==elementTitle&&""!=elementTitle&&(element.title=elementTitle)}var elementDescription=obj.find("img").attr("data-description");return void 0!==elementDescription&&""!=elementDescription&&(element.description=elementDescription),element.data=obj.find("*").data(),element},setup=function(){if(pgwSlider.plugin.removeClass(pgwSlider.config.mainClassName).addClass("ps-list"),pgwSlider.plugin.wrap('<div class="'+pgwSlider.config.mainClassName+'"></div>'),pgwSlider.plugin=pgwSlider.plugin.parent(),pgwSlider.plugin.prepend('<div class="ps-current"><ul></ul><span class="ps-caption"></span></div>'),pgwSlider.slideCount=pgwSlider.plugin.find(".ps-list > li").length,0==pgwSlider.slideCount)throw new Error("PgwSlider - No slider item has been found");pgwSlider.config.displayControls&&pgwSlider.slideCount>1&&(pgwSlider.plugin.find(".ps-current").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'),pgwSlider.plugin.find(".ps-current").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'),pgwSlider.plugin.find(".ps-current .ps-prev").click((function(){pgwSlider.previousSlide()})),pgwSlider.plugin.find(".ps-current .ps-next").click((function(){pgwSlider.nextSlide()}))),pgwSlider.config.displayList||pgwSlider.plugin.find(".ps-list").hide();var elementId=1;return pgwSlider.plugin.find(".ps-list > li").each((function(){var element=getElement($(this));element.id=elementId,pgwSlider.data.push(element),$(this).addClass("elt_"+element.id),element.title&&(1==$(this).find("span").length?""==$(this).find("span").text()&&$(this).find("span").text(element.title):$(this).find("img").after("<span>"+element.title+"</span>"));var currentElement=$('<li class="elt_'+elementId+'"></li>');element.image?currentElement.html('<img src="'+element.image+'" alt="'+(element.title?element.title:"")+'">'):element.thumbnail&&currentElement.html('<img src="'+element.thumbnail+'" alt="'+(element.title?element.title:"")+'">'),element.link&&currentElement.html("<a "+("lity"in element.data?"data-lity":"")+' href="'+element.link+'"'+(element.linkTarget?' target="'+element.linkTarget+'"':"")+">"+currentElement.html()+"</a>"),pgwSlider.plugin.find(".ps-current > ul").append(currentElement),"mouseOver"==pgwSlider.config.selectionMode&&"fading"==pgwSlider.config.transitionEffect?($(this).css("cursor","default").click((function(event){event.preventDefault()})).bind("mouseenter",(function(event){displayElement(element.id)})),$(this).find("a").css("cursor","default")):$(this).css("cursor","pointer").click((function(event){event.preventDefault(),displayElement(element.id)})),elementId++})),"left"==pgwSlider.config.listPosition&&pgwSlider.plugin.addClass("listOnTheLeft"),pgwSlider.config.autoSlide&&pgwSlider.plugin.on("mouseenter",(function(){clearInterval(pgwSlider.intervalEvent),pgwSlider.intervalEvent=null})).on("mouseleave",(function(){activateInterval()})),displayElement(1),pgwSlider.config.touchControls&&pgwSlider.slideCount>1&&(pgwSlider.plugin.find(".ps-current").on("touchstart",(function(e){try{e.originalEvent.touches[0].clientX&&null==pgwSlider.touchFirstPosition&&(pgwSlider.touchFirstPosition=e.originalEvent.touches[0].clientX)}catch(e){pgwSlider.touchFirstPosition=null}})),pgwSlider.plugin.find(".ps-current").on("touchmove",(function(e){try{e.originalEvent.touches[0].clientX&&null!=pgwSlider.touchFirstPosition&&(e.originalEvent.touches[0].clientX>pgwSlider.touchFirstPosition+50?(pgwSlider.touchFirstPosition=null,pgwSlider.previousSlide()):e.originalEvent.touches[0].clientX<pgwSlider.touchFirstPosition-50&&(pgwSlider.touchFirstPosition=null,pgwSlider.nextSlide()))}catch(e){pgwSlider.touchFirstPosition=null}})),pgwSlider.plugin.find(".ps-current").on("touchend",(function(e){pgwSlider.touchFirstPosition=null}))),!0},finishElement=function(element){var elementText="";return element.title&&(elementText+="<b>"+element.title+"</b>"),element.description&&(""!=elementText&&(elementText+="<br>"),elementText+=element.description),""!=elementText&&(element.link&&(elementText='<a href="'+element.link+'"'+(element.linkTarget?' target="'+element.linkTarget+'"':"")+">"+elementText+"</a>"),"function"==typeof pgwSlider.plugin.find(".ps-caption").fadeIn?(pgwSlider.plugin.find(".ps-caption").html(elementText),pgwSlider.plugin.find(".ps-caption").fadeIn(pgwSlider.config.transitionDuration/2)):(pgwSlider.plugin.find(".ps-caption").html(elementText),pgwSlider.plugin.find(".ps-caption").show())),pgwSlider.config.displayControls&&("function"==typeof pgwSlider.plugin.find(".ps-current > .ps-prev").fadeIn?pgwSlider.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").fadeIn(pgwSlider.config.transitionDuration/2):pgwSlider.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").show()),"function"==typeof pgwSlider.config.afterSlide&&pgwSlider.config.afterSlide(element.id),!0},fadeElement=function(element){var elementContainer=pgwSlider.plugin.find(".ps-current > ul");if(pgwSlider.plugin.find(".ps-list > li").css("opacity","0.6"),pgwSlider.plugin.find(".ps-list > li.elt_"+element.id).css("opacity","1"),elementContainer.find("li").not(".elt_"+pgwSlider.currentSlide).not(".elt_"+element.id).each((function(){"function"==typeof $(this).stop&&$(this).stop(),$(this).css("position","").css("z-index",1).hide()})),pgwSlider.currentSlide>0){var currentElement=elementContainer.find(".elt_"+pgwSlider.currentSlide);"function"!=typeof currentElement.animate&&(currentElement.animate=function(css,duration,callback){currentElement.css(css),callback&&callback()}),"function"==typeof currentElement.stop&&currentElement.stop(),currentElement.css("position","absolute").animate({opacity:0},pgwSlider.config.transitionDuration,(function(){currentElement.css("position","").css("z-index",1).hide()}))}pgwSlider.currentSlide=element.id;var nextElement=elementContainer.find(".elt_"+element.id);return"function"!=typeof nextElement.animate&&(nextElement.animate=function(css,duration,callback){nextElement.css(css),callback&&callback()}),"function"==typeof nextElement.stop&&nextElement.stop(),nextElement.css("position","absolute").show().animate({opacity:1},pgwSlider.config.transitionDuration,(function(){nextElement.css("position","").css("z-index",2).show(),finishElement(element)})),!0},displayElement=function(elementId,apiController,direction){if(elementId==pgwSlider.currentSlide)return!1;var element=pgwSlider.data[elementId-1];if(void 0===element)throw new Error("PgwSlider - The element "+elementId+" is undefined");return void 0===direction&&(direction="left"),"function"==typeof pgwSlider.config.beforeSlide&&pgwSlider.config.beforeSlide(elementId),"function"==typeof pgwSlider.plugin.find(".ps-caption").fadeOut?pgwSlider.plugin.find(".ps-caption, .ps-prev, .ps-next").fadeOut(pgwSlider.config.transitionDuration/2):pgwSlider.plugin.find(".ps-caption, .ps-prev, .ps-next").hide(),"sliding"==pgwSlider.config.transitionEffect?slideElement(element,direction):fadeElement(element),void 0!==apiController&&pgwSlider.config.autoSlide&&activateInterval(),!0},activateInterval=function(){return clearInterval(pgwSlider.intervalEvent),pgwSlider.slideCount>1&&pgwSlider.config.autoSlide&&(pgwSlider.intervalEvent=setInterval((function(){if(pgwSlider.currentSlide+1<=pgwSlider.slideCount)var nextItem=pgwSlider.currentSlide+1;else var nextItem=1;displayElement(nextItem)}),pgwSlider.config.intervalDuration)),!0};return pgwSlider.startSlide=function(){return pgwSlider.config.autoSlide=!0,activateInterval(),!0},pgwSlider.stopSlide=function(){return pgwSlider.config.autoSlide=!1,clearInterval(pgwSlider.intervalEvent),!0},pgwSlider.getCurrentSlide=function(){return pgwSlider.currentSlide},pgwSlider.getSlideCount=function(){return pgwSlider.slideCount},pgwSlider.displaySlide=function(itemId){return displayElement(itemId,!0),!0},pgwSlider.nextSlide=function(){if(pgwSlider.currentSlide+1<=pgwSlider.slideCount)var nextItem=pgwSlider.currentSlide+1;else var nextItem=1;return displayElement(nextItem,!0,"left"),!0},pgwSlider.previousSlide=function(){if(pgwSlider.currentSlide-1>=1)var previousItem=pgwSlider.currentSlide-1;else var previousItem=pgwSlider.slideCount;return displayElement(previousItem,!0,"right"),!0},pgwSlider.destroy=function(soft){return clearInterval(pgwSlider.intervalEvent),void 0!==soft?(pgwSlider.plugin.find(".ps-list > li").each((function(){$(this).attr("style",null).removeClass().css("cursor","").unbind("click").unbind("mouseenter"),$(this).find("a").css("cursor",""),$(this).find("img").attr("style",null)})),pgwSlider.plugin.find(".ps-list").addClass(pgwSlider.config.mainClassName).removeClass("ps-list"),pgwSlider.plugin.find(".ps-current").unwrap().remove(),pgwSlider.hide()):pgwSlider.parent().remove(),pgwSlider.plugin=null,pgwSlider.data=[],pgwSlider.config={},pgwSlider.currentSlide=0,pgwSlider.slideCount=0,pgwSlider.resizeEvent=null,pgwSlider.intervalEvent=null,pgwSlider.touchFirstPosition=null,pgwSlider.transitionInProgress=!1,pgwSlider.window=null,!0},pgwSlider.reload=function(newOptions){return pgwSlider.destroy(!0),(pgwSlider=this).plugin=this,pgwSlider.window=$(window),pgwSlider.plugin.show(),pgwSlider.config=$.extend({},defaults,newOptions),setup(),pgwSlider.config.autoSlide&&activateInterval(),!0},init(),this}}(window.Zepto||window.jQuery);
//# sourceMappingURL=pgwslider.min.js.map